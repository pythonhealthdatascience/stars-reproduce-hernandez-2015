# Figure 5

This notebook reproduces Figure 5, which uses the results from Experiment 1.

```{r}
library(ggplot2)
```

```{r}
# Import test run result
result <- read.delim("../python_outputs/experiment1/prescreen30/results.txt")
result2 <- read.delim("../python_outputs/testrun_100pop_5gen/results.txt")

# Add column with prescreened condition (just examples, not actual necessarily)
result$prescreened = 30
result2$prescreened = 40

# Combine into single dataframe
results <- do.call(rbind, list(result, result2))
```

```{r}
values <- results
values$forms <- values$throughput*3.2
values <- values[with(values, order(-resources,-forms)),]
values
```

Plot staff against throughput, faceted by pre-screened percentage.

```{r}
fig5 <- ggplot(data=values) + 
  geom_point(aes(x=resources, y=forms, size=time), alpha=0.7) +
  facet_wrap(~prescreened) +
  labs(size="Waiting Time (minutes)") + xlab("Staff Members") + ylab("Throughput (forms per hour)") +
  theme(axis.title.y = element_text( face='bold')) + theme(axis.title.x = element_text( face='bold')) +
  theme_bw(18) +
  theme(legend.position="top")

ggsave("../r_outputs/figure5.png")

fig5
```